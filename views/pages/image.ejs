<!DOCTYPE html>
<html lang="en">
<head>
<style type="text/css">
      html { height: 100% }
      body { font-family: "Lato", sans-serif;height: 100%; margin: 0; padding: 0 }
      
      #button {margin-left: 10px;}
      #newDiv {
    width: 100%;
    padding: 25px 0;
    text-align: center;
    background-color: lightgreen;
    margin-top:20px;
}
    </style>
<% include template %>
</head>
<body>
<div id="r">
<!-- <span id="myspan" style="font-size:20px;cursor:pointer" onclick="myFunction()" >&#9776;&nbsp&nbspThe Locations of Dump Spots -->
 <!-- </span> -->
<br></br>
</div>
<img id="i" alt="Smiley face" width="100" height="100">
 
 

<ul id="myList">
  
</ul>

<br id="br"></br>
<script src="https://www.gstatic.com/firebasejs/3.7.1/firebase.js"></script>
	
	<!-- jQuery -->
	<script src="../lib/jquery.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="../lib/bootstrap.min.js"></script>

<script>
  // Initialize Firebase
  // TODO: Replace with your project's customized code snippet
  var config = {
  apiKey: "AIzaSyBH5uLSlvmVZnmsQheQjWzgaoeOwPZsciA",
  authDomain: "dumptrace.firebaseapp.com",
  databaseURL: "https://dump-trace.firebaseio.com/",
  storageBucket: "gs://dump-trace.appspot.com",
  
};
firebase.initializeApp(config);
</script>
<script>
//document.body.onload = addElement;
var storage = firebase.storage();
var storageRef = storage.ref();
var imagesRef = storageRef.child('photos');
https://firebasestorage.googleapis.com/v0/b/dump-trace.appspot.com/o/photos%2F04ddcf5e-5bba-45f4-864e-3f72ee3b5cf5%2Fimage%3A16134?alt=media&token=c5c1da6d-e0cf-4fa8-b882-5616bdc1ab05

imagesRef.child("3b456866-fb37-4efa-a131-b7385b4126f7").getDownloadURL().then(function(url) {
  // `url` is the download URL for 'images/stars.jpg'

  // This can be downloaded directly:
  


  // Or inserted into an <img> element:
  var img = document.getElementById('i');
  img.src = url;
}).catch(function(error) {
  // Handle any errors
});

console.log(storageRef);
console.log(imagesRef);


function myFunction() { 

  var x = document.getElementById('r');
    if (x.style.display === 'none') {
        x.style.display = 'block';


    } else {
        x.style.display = 'none';
        var count=0;
        <% val.forEach(function(elem){ %>
         

   <% elem.forEach(function(eleme){ %>
            
      var newDiv = document.createElement("Button");
      newDiv.id="newDiv"
      var newContent = document.createTextNode("<%=eleme[3]%>"+"    -->    "+"<%=eleme[5]%>"); 
      newDiv.appendChild(newContent); 
      linebreak = document.createElement("br"); 
      newDiv.appendChild(linebreak);
      var list = document.getElementById("myList"); 
      list.insertBefore(newDiv, list.childNodes[count]); 

     $('#newDiv').on('click', function (e) {
count++;
<%eleme[6].forEach(function(e){%>

      var Div = document.createElement("LI"); 
      Div.id="Div"
     // let storage = FIRStorage.storage().reference(forURL: "gs://dump-trace.appspot.com");
     var pathref=imagesRef.ref("<%=e%>");
     console.log(pathref);
      var newContent = document.createTextNode("<%=e%>"); 
      Div.appendChild(newContent); 
      var list = document.getElementById("myList"); 
      list.insertBefore(Div, list.childNodes[count]); 
      
       <% });%>
 count++;

       var Div = document.createElement("LI"); 
      Div.id="Div"
      var newContent = document.createTextNode("<%=eleme[3]%>"); 
      Div.appendChild(newContent); 
       var list = document.getElementById("myList"); 
       list.insertBefore(Div, list.childNodes[count]); 
 count++;
     
})
     
        <% });%>

     <% });%>


    }
  // create a new div element 
  // and give it some content 
  
  
}



</script>
</body>

</html>

<!-- <li class="dropdown"><a href="#" class="dropdown-toggle"
            data-toggle="dropdown"><b class="caret"></b></a>
            
          <li class="dropdown"><a href="#" class="dropdown-toggle"
            data-toggle="dropdown">Jo<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/getBarChartCali">Full Time vs part Time in
                  CA </a></li>
              <li><a href="/showmaps">State wise job count</a></li>
            </ul></li>

          <li><a href="/showtest">Mo</a></li> -->